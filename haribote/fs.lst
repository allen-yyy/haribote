     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_GetMyObj
     7 00000000                                 	EXTERN	_message_send
     8 00000000                                 	EXTERN	_task_alloc
     9 00000000                                 	EXTERN	_memman_alloc_4k
    10 00000000                                 	EXTERN	_task_run
    11 00000000                                 [FILE "fs.c"]
    12                                          [SECTION .data]
    13 00000000                                 LC0:
    14 00000000 46 53 00                        	DB	"FS",0x00
    15                                          [SECTION .text]
    16 00000000                                 	GLOBAL	_FS_task
    17 00000000                                 _FS_task:
    18 00000000 55                              	PUSH	EBP
    19 00000001 89 E5                           	MOV	EBP,ESP
    20 00000003 83 EC 40                        	SUB	ESP,64
    21 00000006 68 [00000000]                   	PUSH	LC0
    22 0000000B E8 [00000000]                   	CALL	_GetMyObj
    23 00000010 59                              	POP	ECX
    24 00000011                                 L2:
    25 00000011 8D 45 D0                        	LEA	EAX,DWORD [-48+EBP]
    26 00000014 50                              	PUSH	EAX
    27 00000015 68 00002712                     	PUSH	10002
    28 0000001A C7 45 D0 00000001               	MOV	DWORD [-48+EBP],1
    29 00000021 E8 [00000000]                   	CALL	_message_send
    30 00000026 58                              	POP	EAX
    31 00000027 5A                              	POP	EDX
    32 00000028 EB E7                           	JMP	L2
    33 0000002A                                 	GLOBAL	_FSEntry
    34 0000002A                                 _FSEntry:
    35 0000002A 55                              	PUSH	EBP
    36 0000002B 89 E5                           	MOV	EBP,ESP
    37 0000002D 56                              	PUSH	ESI
    38 0000002E 53                              	PUSH	EBX
    39 0000002F 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
    40 00000032 E8 [00000000]                   	CALL	_task_alloc
    41 00000037 68 00010000                     	PUSH	65536
    42 0000003C 89 C3                           	MOV	EBX,EAX
    43 0000003E FF 76 04                        	PUSH	DWORD [4+ESI]
    44 00000041 E8 [00000000]                   	CALL	_memman_alloc_4k
    45 00000046 05 00010000                     	ADD	EAX,65536
    46 0000004B 89 43 64                        	MOV	DWORD [100+EBX],EAX
    47 0000004E C7 43 4C [00000000]             	MOV	DWORD [76+EBX],_FS_task
    48 00000055 C7 43 74 00000008               	MOV	DWORD [116+EBX],8
    49 0000005C C7 43 78 00000010               	MOV	DWORD [120+EBX],16
    50 00000063 C7 43 7C 00000008               	MOV	DWORD [124+EBX],8
    51 0000006A C7 83 00000080 00000008         	MOV	DWORD [128+EBX],8
    52 00000074 C7 83 00000084 00000008         	MOV	DWORD [132+EBX],8
    53 0000007E C7 83 00000088 00000008         	MOV	DWORD [136+EBX],8
    54 00000088 6A 02                           	PUSH	2
    55 0000008A 6A 03                           	PUSH	3
    56 0000008C 53                              	PUSH	EBX
    57 0000008D E8 [00000000]                   	CALL	_task_run
    58 00000092 B8 00000001                     	MOV	EAX,1
    59 00000097 89 5E 08                        	MOV	DWORD [8+ESI],EBX
    60 0000009A 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
    61 0000009D 5B                              	POP	EBX
    62 0000009E 5E                              	POP	ESI
    63 0000009F 5D                              	POP	EBP
    64 000000A0 C3                              	RET
