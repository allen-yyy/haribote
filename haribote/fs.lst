     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_GetMyObj
     7 00000000                                 	EXTERN	_memman_alloc
     8 00000000                                 	EXTERN	_message_send
     9 00000000                                 	EXTERN	_message_receive
    10 00000000                                 	EXTERN	_task_alloc
    11 00000000                                 	EXTERN	_memman_alloc_4k
    12 00000000                                 	EXTERN	_task_run
    13 00000000                                 [FILE "fs.c"]
    14                                          [SECTION .data]
    15 00000000                                 LC0:
    16 00000000 46 53 00                        	DB	"FS",0x00
    17                                          [SECTION .text]
    18 00000000                                 	GLOBAL	_FS_task
    19 00000000                                 _FS_task:
    20 00000000 55                              	PUSH	EBP
    21 00000001 89 E5                           	MOV	EBP,ESP
    22 00000003 53                              	PUSH	EBX
    23 00000004 83 EC 40                        	SUB	ESP,64
    24 00000007 8D 5D CC                        	LEA	EBX,DWORD [-52+EBP]
    25 0000000A 68 [00000000]                   	PUSH	LC0
    26 0000000F E8 [00000000]                   	CALL	_GetMyObj
    27 00000014 68 00000200                     	PUSH	512
    28 00000019 68 003C0000                     	PUSH	3932160
    29 0000001E E8 [00000000]                   	CALL	_memman_alloc
    30 00000023 53                              	PUSH	EBX
    31 00000024 68 00002712                     	PUSH	10002
    32 00000029 89 45 D4                        	MOV	DWORD [-44+EBP],EAX
    33 0000002C C7 45 CC 00000001               	MOV	DWORD [-52+EBP],1
    34 00000033 E8 [00000000]                   	CALL	_message_send
    35 00000038 53                              	PUSH	EBX
    36 00000039 68 00002710                     	PUSH	10000
    37 0000003E E8 [00000000]                   	CALL	_message_receive
    38 00000043 83 C4 1C                        	ADD	ESP,28
    39 00000046                                 L2:
    40 00000046 EB FE                           	JMP	L2
    41 00000048                                 	GLOBAL	_FSEntry
    42 00000048                                 _FSEntry:
    43 00000048 55                              	PUSH	EBP
    44 00000049 89 E5                           	MOV	EBP,ESP
    45 0000004B 56                              	PUSH	ESI
    46 0000004C 53                              	PUSH	EBX
    47 0000004D 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
    48 00000050 E8 [00000000]                   	CALL	_task_alloc
    49 00000055 68 00010000                     	PUSH	65536
    50 0000005A 89 C3                           	MOV	EBX,EAX
    51 0000005C FF 76 04                        	PUSH	DWORD [4+ESI]
    52 0000005F E8 [00000000]                   	CALL	_memman_alloc_4k
    53 00000064 05 00010000                     	ADD	EAX,65536
    54 00000069 89 43 64                        	MOV	DWORD [100+EBX],EAX
    55 0000006C C7 43 4C [00000000]             	MOV	DWORD [76+EBX],_FS_task
    56 00000073 C7 43 74 00000008               	MOV	DWORD [116+EBX],8
    57 0000007A C7 43 78 00000010               	MOV	DWORD [120+EBX],16
    58 00000081 C7 43 7C 00000008               	MOV	DWORD [124+EBX],8
    59 00000088 C7 83 00000080 00000008         	MOV	DWORD [128+EBX],8
    60 00000092 C7 83 00000084 00000008         	MOV	DWORD [132+EBX],8
    61 0000009C C7 83 00000088 00000008         	MOV	DWORD [136+EBX],8
    62 000000A6 6A 01                           	PUSH	1
    63 000000A8 6A 03                           	PUSH	3
    64 000000AA 53                              	PUSH	EBX
    65 000000AB E8 [00000000]                   	CALL	_task_run
    66 000000B0 B8 00000001                     	MOV	EAX,1
    67 000000B5 89 5E 08                        	MOV	DWORD [8+ESI],EBX
    68 000000B8 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
    69 000000BB 5B                              	POP	EBX
    70 000000BC 5E                              	POP	ESI
    71 000000BD 5D                              	POP	EBP
    72 000000BE C3                              	RET
