     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_io_out8
     7 00000000                                 [FILE "int.c"]
     8                                          [SECTION .text]
     9 00000000                                 	GLOBAL	_init_pic
    10 00000000                                 _init_pic:
    11 00000000 55                              	PUSH	EBP
    12 00000001 89 E5                           	MOV	EBP,ESP
    13 00000003 68 000000FF                     	PUSH	255
    14 00000008 6A 21                           	PUSH	33
    15 0000000A E8 [00000000]                   	CALL	_io_out8
    16 0000000F 68 000000FF                     	PUSH	255
    17 00000014 68 000000A1                     	PUSH	161
    18 00000019 E8 [00000000]                   	CALL	_io_out8
    19 0000001E 6A 11                           	PUSH	17
    20 00000020 6A 20                           	PUSH	32
    21 00000022 E8 [00000000]                   	CALL	_io_out8
    22 00000027 6A 20                           	PUSH	32
    23 00000029 6A 21                           	PUSH	33
    24 0000002B E8 [00000000]                   	CALL	_io_out8
    25 00000030 83 C4 20                        	ADD	ESP,32
    26 00000033 6A 04                           	PUSH	4
    27 00000035 6A 21                           	PUSH	33
    28 00000037 E8 [00000000]                   	CALL	_io_out8
    29 0000003C 6A 01                           	PUSH	1
    30 0000003E 6A 21                           	PUSH	33
    31 00000040 E8 [00000000]                   	CALL	_io_out8
    32 00000045 6A 11                           	PUSH	17
    33 00000047 68 000000A0                     	PUSH	160
    34 0000004C E8 [00000000]                   	CALL	_io_out8
    35 00000051 6A 28                           	PUSH	40
    36 00000053 68 000000A1                     	PUSH	161
    37 00000058 E8 [00000000]                   	CALL	_io_out8
    38 0000005D 83 C4 20                        	ADD	ESP,32
    39 00000060 6A 02                           	PUSH	2
    40 00000062 68 000000A1                     	PUSH	161
    41 00000067 E8 [00000000]                   	CALL	_io_out8
    42 0000006C 6A 01                           	PUSH	1
    43 0000006E 68 000000A1                     	PUSH	161
    44 00000073 E8 [00000000]                   	CALL	_io_out8
    45 00000078 68 000000FB                     	PUSH	251
    46 0000007D 6A 21                           	PUSH	33
    47 0000007F E8 [00000000]                   	CALL	_io_out8
    48 00000084 68 000000FF                     	PUSH	255
    49 00000089 68 000000A1                     	PUSH	161
    50 0000008E E8 [00000000]                   	CALL	_io_out8
    51 00000093 31 C0                           	XOR	EAX,EAX
    52 00000095 31 D2                           	XOR	EDX,EDX
    53 00000097 83 C4 20                        	ADD	ESP,32
    54 0000009A                                 L6:
    55 0000009A 89 90 [00000000]                	MOV	DWORD [_irq+EAX],EDX
    56 000000A0 42                              	INC	EDX
    57 000000A1 80 A0 [00000004] FE             	AND	BYTE [_irq+4+EAX],-2
    58 000000A8 C7 80 [00000008] 00000000       	MOV	DWORD [_irq+8+EAX],0
    59 000000B2 C7 80 [00000020] FFFFFFFF       	MOV	DWORD [_irq+32+EAX],-1
    60 000000BC 83 C0 24                        	ADD	EAX,36
    61 000000BF 83 FA 07                        	CMP	EDX,7
    62 000000C2 7E D6                           	JLE	L6
    63 000000C4 BA 00000008                     	MOV	EDX,8
    64 000000C9 B8 00000120                     	MOV	EAX,288
    65 000000CE                                 L11:
    66 000000CE 89 90 [00000000]                	MOV	DWORD [_irq+EAX],EDX
    67 000000D4 42                              	INC	EDX
    68 000000D5 80 88 [00000004] 01             	OR	BYTE [_irq+4+EAX],1
    69 000000DC C7 80 [00000008] 00000000       	MOV	DWORD [_irq+8+EAX],0
    70 000000E6 C7 80 [00000020] FFFFFFFF       	MOV	DWORD [_irq+32+EAX],-1
    71 000000F0 83 C0 24                        	ADD	EAX,36
    72 000000F3 83 FA 0F                        	CMP	EDX,15
    73 000000F6 7E D6                           	JLE	L11
    74 000000F8 C9                              	LEAVE
    75 000000F9 C3                              	RET
    76 000000FA                                 	GLOBAL	_inthandlers
    77 000000FA                                 _inthandlers:
    78 000000FA 55                              	PUSH	EBP
    79 000000FB B9 00000009                     	MOV	ECX,9
    80 00000100 89 E5                           	MOV	EBP,ESP
    81 00000102 57                              	PUSH	EDI
    82 00000103 56                              	PUSH	ESI
    83 00000104 53                              	PUSH	EBX
    84 00000105 8D 7D C4                        	LEA	EDI,DWORD [-60+EBP]
    85 00000108 83 EC 30                        	SUB	ESP,48
    86 0000010B 0F BE 75 0C                     	MOVSX	ESI,BYTE [12+EBP]
    87 0000010F 6B F6 24                        	IMUL	ESI,ESI,36
    88 00000112 FC                              	CLD
    89 00000113 81 C6 [00000000]                	ADD	ESI,_irq
    90 00000119 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
    91 0000011C F3                              	REP
    92 0000011D A5                              	MOVSD
    93 0000011E 8A 45 C8                        	MOV	AL,BYTE [-56+EBP]
    94 00000121 83 E0 01                        	AND	EAX,1
    95 00000124 84 C0                           	TEST	AL,AL
    96 00000126 74 3F                           	JE	L17
    97 00000128 6A 20                           	PUSH	32
    98 0000012A 68 000000A0                     	PUSH	160
    99 0000012F E8 [00000000]                   	CALL	_io_out8
   100 00000134 6A 20                           	PUSH	32
   101 00000136 6A 20                           	PUSH	32
   102 00000138 E8 [00000000]                   	CALL	_io_out8
   103 0000013D 83 C4 10                        	ADD	ESP,16
   104 00000140                                 L18:
   105 00000140 8B 45 CC                        	MOV	EAX,DWORD [-52+EBP]
   106 00000143 85 C0                           	TEST	EAX,EAX
   107 00000145 74 06                           	JE	L16
   108 00000147 31 F6                           	XOR	ESI,ESI
   109 00000149 39 C6                           	CMP	ESI,EAX
   110 0000014B 7C 08                           	JL	L25
   111 0000014D                                 L16:
   112 0000014D 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   113 00000150 5B                              	POP	EBX
   114 00000151 5E                              	POP	ESI
   115 00000152 5F                              	POP	EDI
   116 00000153 5D                              	POP	EBP
   117 00000154 C3                              	RET
   118 00000155                                 L25:
   119 00000155 53                              	PUSH	EBX
   120 00000156 FF 54 B5 D0                     	CALL	DWORD [-48+EBP+ESI*4]
   121 0000015A 85 C0                           	TEST	EAX,EAX
   122 0000015C 5A                              	POP	EDX
   123 0000015D 74 EE                           	JE	L16
   124 0000015F 46                              	INC	ESI
   125 00000160 3B 75 CC                        	CMP	ESI,DWORD [-52+EBP]
   126 00000163 7C F0                           	JL	L25
   127 00000165 EB E6                           	JMP	L16
   128 00000167                                 L17:
   129 00000167 6A 20                           	PUSH	32
   130 00000169 6A 20                           	PUSH	32
   131 0000016B E8 [00000000]                   	CALL	_io_out8
   132 00000170 59                              	POP	ECX
   133 00000171 5E                              	POP	ESI
   134 00000172 EB CC                           	JMP	L18
   135 00000174                                 	GLOBAL	_request_irq
   136 00000174                                 _request_irq:
   137 00000174 55                              	PUSH	EBP
   138 00000175 B9 00000009                     	MOV	ECX,9
   139 0000017A 89 E5                           	MOV	EBP,ESP
   140 0000017C 83 C8 FF                        	OR	EAX,-1
   141 0000017F 57                              	PUSH	EDI
   142 00000180 56                              	PUSH	ESI
   143 00000181 8D 7D C4                        	LEA	EDI,DWORD [-60+EBP]
   144 00000184 53                              	PUSH	EBX
   145 00000185 83 EC 30                        	SUB	ESP,48
   146 00000188 6B 75 08 24                     	IMUL	ESI,DWORD [8+EBP],36
   147 0000018C FC                              	CLD
   148 0000018D 81 C6 [00000000]                	ADD	ESI,_irq
   149 00000193 8B 5D 10                        	MOV	EBX,DWORD [16+EBP]
   150 00000196 F3                              	REP
   151 00000197 A5                              	MOVSD
   152 00000198 8B 55 CC                        	MOV	EDX,DWORD [-52+EBP]
   153 0000019B 83 FA 04                        	CMP	EDX,4
   154 0000019E 7F 1B                           	JG	L27
   155 000001A0 83 7D E4 01                     	CMP	DWORD [-28+EBP],1
   156 000001A4 74 26                           	JE	L31
   157 000001A6 83 FB 01                        	CMP	EBX,1
   158 000001A9 74 18                           	JE	L32
   159 000001AB                                 L30:
   160 000001AB 42                              	INC	EDX
   161 000001AC 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   162 000001AF 89 55 CC                        	MOV	DWORD [-52+EBP],EDX
   163 000001B2 89 5D E4                        	MOV	DWORD [-28+EBP],EBX
   164 000001B5 89 44 95 CC                     	MOV	DWORD [-52+EBP+EDX*4],EAX
   165 000001B9 31 C0                           	XOR	EAX,EAX
   166 000001BB                                 L27:
   167 000001BB 83 C4 30                        	ADD	ESP,48
   168 000001BE 5B                              	POP	EBX
   169 000001BF 5E                              	POP	ESI
   170 000001C0 5F                              	POP	EDI
   171 000001C1 5D                              	POP	EBP
   172 000001C2 C3                              	RET
   173 000001C3                                 L32:
   174 000001C3 83 C8 FF                        	OR	EAX,-1
   175 000001C6 85 D2                           	TEST	EDX,EDX
   176 000001C8 7F F1                           	JG	L27
   177 000001CA EB DF                           	JMP	L30
   178 000001CC                                 L31:
   179 000001CC 83 C8 FF                        	OR	EAX,-1
   180 000001CF EB EA                           	JMP	L27
   181 000001D1                                 	GLOBAL	_irq
   182                                          [SECTION .data]
   183 00000000                                 	ALIGNB	16
   184 00000000                                 _irq:
   185 00000000 00 00 00 00 00 00 00 00 00 00   	RESB	576
       0000000A 00 00 00 00 00 00 00 00 00 00 
       00000014 00 00 00 00 00 00 00 00 00 00 
       0000001E 00 00 00 00 00 00 00 00 00 00 
       00000028 00 00 00 00 00 00 00 00 00 00 
       00000032 00 00 00 00 00 00 00 00 00 00 
       0000003C 00 00 00 00 00 00 00 00 00 00 
       00000046 00 00 00 00 00 00 00 00 00 00 
       00000050 00 00 00 00 00 00 00 00 00 00 
       0000005A 00 00 00 00 00 00 00 00 00 00 
       00000064 00 00 00 00 00 00 00 00 00 00 
       0000006E 00 00 00 00 00 00 00 00 00 00 
       00000078 00 00 00 00 00 00 00 00 00 00 
       00000082 00 00 00 00 00 00 00 00 00 00 
       0000008C 00 00 00 00 00 00 00 00 00 00 
       00000096 00 00 00 00 00 00 00 00 00 00 
       000000A0 00 00 00 00 00 00 00 00 00 00 
       000000AA 00 00 00 00 00 00 00 00 00 00 
       000000B4 00 00 00 00 00 00 00 00 00 00 
       000000BE 00 00 00 00 00 00 00 00 00 00 
       000000C8 00 00 00 00 00 00 00 00 00 00 
       000000D2 00 00 00 00 00 00 00 00 00 00 
       000000DC 00 00 00 00 00 00 00 00 00 00 
       000000E6 00 00 00 00 00 00 00 00 00 00 
       000000F0 00 00 00 00 00 00 00 00 00 00 
       000000FA 00 00 00 00 00 00 00 00 00 00 
       00000104 00 00 00 00 00 00 00 00 00 00 
       0000010E 00 00 00 00 00 00 00 00 00 00 
       00000118 00 00 00 00 00 00 00 00 00 00 
       00000122 00 00 00 00 00 00 00 00 00 00 
       0000012C 00 00 00 00 00 00 00 00 00 00 
       00000136 00 00 00 00 00 00 00 00 00 00 
       00000140 00 00 00 00 00 00 00 00 00 00 
       0000014A 00 00 00 00 00 00 00 00 00 00 
       00000154 00 00 00 00 00 00 00 00 00 00 
       0000015E 00 00 00 00 00 00 00 00 00 00 
       00000168 00 00 00 00 00 00 00 00 00 00 
       00000172 00 00 00 00 00 00 00 00 00 00 
       0000017C 00 00 00 00 00 00 00 00 00 00 
       00000186 00 00 00 00 00 00 00 00 00 00 
       00000190 00 00 00 00 00 00 00 00 00 00 
       0000019A 00 00 00 00 00 00 00 00 00 00 
       000001A4 00 00 00 00 00 00 00 00 00 00 
       000001AE 00 00 00 00 00 00 00 00 00 00 
       000001B8 00 00 00 00 00 00 00 00 00 00 
       000001C2 00 00 00 00 00 00 00 00 00 00 
       000001CC 00 00 00 00 00 00 00 00 00 00 
       000001D6 00 00 00 00 00 00 00 00 00 00 
       000001E0 00 00 00 00 00 00 00 00 00 00 
       000001EA 00 00 00 00 00 00 00 00 00 00 
       000001F4 00 00 00 00 00 00 00 00 00 00 
       000001FE 00 00 00 00 00 00 00 00 00 00 
       00000208 00 00 00 00 00 00 00 00 00 00 
       00000212 00 00 00 00 00 00 00 00 00 00 
       0000021C 00 00 00 00 00 00 00 00 00 00 
       00000226 00 00 00 00 00 00 00 00 00 00 
       00000230 00 00 00 00 00 00 00 00 00 00 
       0000023A 00 00 00 00 00 00 
